<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynamical system model: cartography Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dynamical system model
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacecartography.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cartography Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af154e4a2a61af584da40f3a5ce78cca0" id="r_af154e4a2a61af584da40f3a5ce78cca0"><td class="memItemLeft" align="right" valign="top">tuple|nx.DiGraph&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af154e4a2a61af584da40f3a5ce78cca0">get_cartography</a> (str|None place_name=None, tuple[float, float, float, float]|None bbox=None, str network_type=&quot;drive&quot;, bool|float consolidate_intersections=10, bool dead_ends=False, bool infer_speeds=False, str return_type=&quot;gdfs&quot;)</td></tr>
<tr class="separator:af154e4a2a61af584da40f3a5ce78cca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3304222b353045169609233d31ff03" id="r_aab3304222b353045169609233d31ff03"><td class="memItemLeft" align="right" valign="top">nx.DiGraph&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab3304222b353045169609233d31ff03">graph_from_gdfs</a> (gpd.GeoDataFrame gdf_edges, gpd.GeoDataFrame gdf_nodes)</td></tr>
<tr class="separator:aab3304222b353045169609233d31ff03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f4a08b0f592fa8be1cc03e42ef1a96" id="r_ae0f4a08b0f592fa8be1cc03e42ef1a96"><td class="memItemLeft" align="right" valign="top">tuple[gpd.GeoDataFrame, gpd.GeoDataFrame]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0f4a08b0f592fa8be1cc03e42ef1a96">graph_to_gdfs</a> (nx.DiGraph G)</td></tr>
<tr class="separator:ae0f4a08b0f592fa8be1cc03e42ef1a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6b2a9cc0e932343c8c5ce0934b1678" id="r_aaa6b2a9cc0e932343c8c5ce0934b1678"><td class="memItemLeft" align="right" valign="top">tuple[gpd.GeoDataFrame, gpd.GeoDataFrame]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa6b2a9cc0e932343c8c5ce0934b1678">create_manhattan_cartography</a> (int n_x=10, int n_y=10, float spacing=2000.0, float maxspeed=50.0, float center_lat=0.0, float center_lon=0.0)</td></tr>
<tr class="separator:aaa6b2a9cc0e932343c8c5ce0934b1678"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@file cartography.py
@brief Cartography utilities for retrieving and processing OpenStreetMap data.

This module provides functions to download and process street network data
from OpenStreetMap using OSMnx, with support for graph simplification and
standardization of attributes.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aaa6b2a9cc0e932343c8c5ce0934b1678" name="aaa6b2a9cc0e932343c8c5ce0934b1678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa6b2a9cc0e932343c8c5ce0934b1678">&#9670;&#160;</a></span>create_manhattan_cartography()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> tuple[gpd.GeoDataFrame, gpd.GeoDataFrame] cartography.create_manhattan_cartography </td>
          <td>(</td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>n_x</em></span><span class="paramdefsep"> = </span><span class="paramdefval">10</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>n_y</em></span><span class="paramdefsep"> = </span><span class="paramdefval">10</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float </td>          <td class="paramname"><span class="paramname"><em>spacing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">2000.0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float </td>          <td class="paramname"><span class="paramname"><em>maxspeed</em></span><span class="paramdefsep"> = </span><span class="paramdefval">50.0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float </td>          <td class="paramname"><span class="paramname"><em>center_lat</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float </td>          <td class="paramname"><span class="paramname"><em>center_lon</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a synthetic street network with specified topology.

Args:
    n_x (int): Number of nodes in the x-direction (longitude). Defaults to 10.
    n_y (int): Number of nodes in the y-direction (latitude). Defaults to 10.
    spacing (float): Distance between nodes in meters. Defaults to 2000.0.
    center_lat (float): Latitude of the network center. Defaults to 0.0.
    center_lon (float): Longitude of the network center. Defaults to 0.0.

Returns:
    tuple: A tuple containing two GeoDataFrames:
        - gdf_edges: GeoDataFrame with edge data, including columns like 'id', 'source',
          'target', 'nlanes', 'type', 'name', 'length', and 'geometry'.
        - gdf_nodes: GeoDataFrame with node data, including columns like 'id', 'type',
          and 'geometry'.
</pre> 
</div>
</div>
<a id="af154e4a2a61af584da40f3a5ce78cca0" name="af154e4a2a61af584da40f3a5ce78cca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af154e4a2a61af584da40f3a5ce78cca0">&#9670;&#160;</a></span>get_cartography()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> tuple | nx.DiGraph cartography.get_cartography </td>
          <td>(</td>
          <td class="paramtype">str | None </td>          <td class="paramname"><span class="paramname"><em>place_name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tuple[float, float, float, float] | None </td>          <td class="paramname"><span class="paramname"><em>bbox</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str </td>          <td class="paramname"><span class="paramname"><em>network_type</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;drive&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool | float </td>          <td class="paramname"><span class="paramname"><em>consolidate_intersections</em></span><span class="paramdefsep"> = </span><span class="paramdefval">10</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>dead_ends</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>infer_speeds</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str </td>          <td class="paramname"><span class="paramname"><em>return_type</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;gdfs&quot;</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieves and processes cartography data for a specified place using OpenStreetMap data.

This function downloads a street network graph for the given place or bounding box, optionally consolidates
intersections to simplify the graph, removes edges with zero length, self-loops and isolated nodes,
and standardizes the attribute names in the graph. Can return either GeoDataFrames or the graph itself.

Args:
    place_name (str): The name of the place (e.g., city, neighborhood) to retrieve cartography for.
    bbox (tuple, optional): A tuple specifying the bounding box (north, south, east, west)
        to retrieve cartography for.
    network_type (str, optional): The type of network to retrieve. Common values include "drive",
        "walk", "bike". Defaults to "drive".
    consolidate_intersections (bool | float, optional): If True, consolidates intersections using
        a default tolerance. If a float, uses that value as the tolerance for consolidation.
        Set to False to skip consolidation. Defaults to 10.
    dead_ends (bool, optional): Whether to include dead ends when consolidating intersections.
        Only relevant if consolidate_intersections is enabled. Defaults to False.
    infer_speeds (bool, optional): Whether to infer edge speeds based on road types. Defaults to False.
        If True, calls ox.routing.add_edge_speeds using np.nanmedian as aggregation function.
        Finally, the "maxspeed" attribute is replaced with the inferred "speed_kph", and the "travel_time" attribute is computed.
    return_type (str, optional): Type of return value. Options are "gdfs" (GeoDataFrames) or
        "graph" (NetworkX DiGraph). Defaults to "gdfs".

Returns:
    tuple | nx.DiGraph: If return_type is "gdfs", returns a tuple containing two GeoDataFrames:
        - gdf_edges: GeoDataFrame with processed edge data, including columns like 'source',
          'target', 'nlanes', 'type', 'name', 'id', and 'geometry'.
        - gdf_nodes: GeoDataFrame with processed node data, including columns like 'id', 'type',
          and 'geometry'.
        If return_type is "graph", returns the NetworkX DiGraph with standardized attributes.
</pre> 
</div>
</div>
<a id="aab3304222b353045169609233d31ff03" name="aab3304222b353045169609233d31ff03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3304222b353045169609233d31ff03">&#9670;&#160;</a></span>graph_from_gdfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> nx.DiGraph cartography.graph_from_gdfs </td>
          <td>(</td>
          <td class="paramtype">gpd.GeoDataFrame</td>          <td class="paramname"><span class="paramname"><em>gdf_edges</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpd.GeoDataFrame</td>          <td class="paramname"><span class="paramname"><em>gdf_nodes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructs a NetworkX DiGraph from given GeoDataFrames of edges and nodes.
The supported GeoDataFrame are the ones returned by get_cartography with return_type="gdfs".

Args:
    gdf_edges (GeoDataFrame): GeoDataFrame containing edge data.
    gdf_nodes (GeoDataFrame): GeoDataFrame containing node properties data.

Returns:
    nx.DiGraph: The constructed DiGraph with standardized attributes.
</pre> 
</div>
</div>
<a id="ae0f4a08b0f592fa8be1cc03e42ef1a96" name="ae0f4a08b0f592fa8be1cc03e42ef1a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f4a08b0f592fa8be1cc03e42ef1a96">&#9670;&#160;</a></span>graph_to_gdfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> tuple[gpd.GeoDataFrame, gpd.GeoDataFrame] cartography.graph_to_gdfs </td>
          <td>(</td>
          <td class="paramtype">nx.DiGraph</td>          <td class="paramname"><span class="paramname"><em>G</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Converts a NetworkX DiGraph to GeoDataFrames of edges and nodes.
The returned GeoDataFrames are compatible with those returned by get_cartography with return_type="gdfs".

Args:
    G (nx.DiGraph): The input DiGraph.

Returns:
    tuple: A tuple containing two GeoDataFrames:
        - gdf_edges: GeoDataFrame with edge data.
        - gdf_nodes: GeoDataFrame with node properties data.
</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecartography.html">cartography</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
